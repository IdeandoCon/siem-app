{"ast":null,"code":"import { __awaiter } from \"tslib\";\nimport { UserService } from \"../../api/user.service\";\nimport { Router } from '@angular/router';\nimport { NavController } from '@ionic/angular';\nimport { HttpClient } from '@angular/common/http';\nimport { CookieService } from 'ngx-cookie-service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../api/user.service\";\nimport * as i2 from \"ngx-cookie-service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@ionic/angular\";\nimport * as i5 from \"@angular/common/http\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"@angular/forms\";\n\nfunction LoginPage_ion_slide_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-slide\");\n    i0.ɵɵelementStart(1, \"ion-card\", 8);\n    i0.ɵɵelement(2, \"img\", 9);\n    i0.ɵɵelementStart(3, \"ion-card-header\");\n    i0.ɵɵelementStart(4, \"ion-card-title\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"ion-card-content\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const slide_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", slide_r1.img, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", slide_r1.titulo, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", slide_r1.desc, \" \");\n  }\n}\n\nexport let LoginPage = /*#__PURE__*/(() => {\n  class LoginPage {\n    constructor(userService, cookies, router, navCtrl, http) {\n      this.userService = userService;\n      this.cookies = cookies;\n      this.router = router;\n      this.navCtrl = navCtrl;\n      this.http = http;\n      this.slideOpts = {\n        effect: 'fade',\n        allowSlidePrev: true,\n        allowSlideNext: true,\n        direction: 'horizontal',\n        autoplay: true,\n        speed: 1000\n      };\n      this.slides = [{\n        img: '/assets/slides/isologo.svg',\n        titulo: ' S I E M ',\n        desc: 'Información Ejecutiva Municipal'\n      }, {\n        img: '/assets/slides/isologo.svg',\n        titulo: 'Coparticipación',\n        desc: 'Ingresos municipales por Coparticipación'\n      }, {\n        img: '/assets/slides/isologo.svg',\n        titulo: 'Recaudación',\n        desc: 'Recaudación diaria, semanal, mensual, registro histórico'\n      }, {\n        img: '/assets/slides/isologo.svg',\n        titulo: 'Gastos',\n        desc: 'Gastos diarios por categoría, gastos semanales e historico de gastos'\n      }, {\n        img: '/assets/slides/ideando_isologo.png',\n        titulo: 'Ideando Consultoria',\n        desc: '¡ Juntos Concretamos IDEAS !'\n      }];\n    }\n\n    login1() {\n      return __awaiter(this, void 0, void 0, function* () {\n        const usuario = {\n          email: this.email,\n          password: this.password,\n          role: 'INTENDENTE_ROLE'\n        };\n        yield this.userService.login(usuario).subscribe(data => {\n          let municipalidad = this.userService.setMunicipalidad(data.id);\n          this.userService.setToken(data.token);\n          console.log(municipalidad);\n          this.router.navigateByUrl('/tabs');\n        });\n      });\n    }\n\n    setToken(token) {\n      this.cookies.set(\"token\", token);\n    }\n\n    getToken() {\n      return this.cookies.get(\"token\");\n    } //Metodos de Login y obtencion de datos de Ale.\n\n\n    login(token, municipalidad) {\n      const usuario = {\n        email: this.email,\n        password: this.password,\n        role: 'INTENDENTE_ROLE'\n      };\n      this.http.post('http://45.77.129.241:3000/login', usuario).subscribe(data => {\n        this.cookies.get(\"token\");\n        this.setToken(data.token);\n        let Municipal = data.usuario.municipalidad;\n        this.municipalidad = Municipal;\n        this.router.navigateByUrl('/tabs');\n      });\n    }\n\n    onClick() {\n      this.navCtrl.navigateForward('/login');\n    }\n\n  }\n\n  LoginPage.ɵfac = function LoginPage_Factory(t) {\n    return new (t || LoginPage)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.CookieService), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i4.NavController), i0.ɵɵdirectiveInject(i5.HttpClient));\n  };\n\n  LoginPage.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: LoginPage,\n    selectors: [[\"app-login\"]],\n    decls: 11,\n    vars: 4,\n    consts: [[\"pager\", \"true\", 1, \"slide-full\", 3, \"options\"], [4, \"ngFor\", \"ngForOf\"], [1, \"login\"], [\"method\", \"post\", 1, \"custom-form\"], [1, \"titulo-login\"], [\"type\", \"email\", \"name\", \"Usuario\", \"placeholder\", \"Correo\", \"required\", \"required\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"password\", \"name\", \"Contrase\\u00F1a\", \"placeholder\", \"Contrase\\u00F1a\", \"required\", \"required\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", 3, \"click\"], [\"mode\", \"ios\"], [1, \"slide-image\", 3, \"src\"]],\n    template: function LoginPage_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"ion-content\");\n        i0.ɵɵelementStart(1, \"ion-slides\", 0);\n        i0.ɵɵtemplate(2, LoginPage_ion_slide_2_Template, 8, 3, \"ion-slide\", 1);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"div\", 2);\n        i0.ɵɵelementStart(4, \"form\", 3);\n        i0.ɵɵelementStart(5, \"h5\", 4);\n        i0.ɵɵtext(6, \"Acceso al sistema\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"input\", 5);\n        i0.ɵɵlistener(\"ngModelChange\", function LoginPage_Template_input_ngModelChange_7_listener($event) {\n          return ctx.email = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"input\", 6);\n        i0.ɵɵlistener(\"ngModelChange\", function LoginPage_Template_input_ngModelChange_8_listener($event) {\n          return ctx.password = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"button\", 7);\n        i0.ɵɵlistener(\"click\", function LoginPage_Template_button_click_9_listener() {\n          return ctx.login();\n        });\n        i0.ɵɵtext(10, \"Entrar\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"options\", ctx.slideOpts);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.slides);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngModel\", ctx.email);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngModel\", ctx.password);\n      }\n    },\n    directives: [i4.IonContent, i4.IonSlides, i6.NgForOf, i4.IonSlide, i4.IonCard, i4.IonCardHeader, i4.IonCardTitle, i4.IonCardContent, i7.ɵNgNoValidate, i7.NgControlStatusGroup, i7.NgForm, i7.DefaultValueAccessor, i7.RequiredValidator, i7.NgControlStatus, i7.NgModel],\n    styles: [\"*[_ngcontent-%COMP%]{box-sizing:border-box}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{background:#ffffff}h1[_ngcontent-%COMP%]{margin:0;padding:0}.custom-form[_ngcontent-%COMP%]{text-align:center;min-width:300px;max-width:90%;padding:1rem;background:rgba(255,255,255,.15);margin:auto;border-radius:.5rem;color:#000}.custom-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:block;margin:2rem 0;width:100%;border-radius:1.5rem;padding:1rem;border:1px;background:#fff!important;background-color:#fff;box-shadow:inset 1px 2px 4px #00000003,0 0 8px #0003}input[_ngcontent-%COMP%]:hover{box-shadow:inset 1px 2px 8px #00000005}input[_ngcontent-%COMP%]:focus{color:#4b515d;border:1px solid #B8B6B6;box-shadow:inset 1px 2px 4px #00000003,0 0 8px #0003}--placeholder-color[_ngcontent-%COMP%]{color:#fff}.titulo-login[_ngcontent-%COMP%]{margin:auto;font-weight:600}.custom-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:.15em;border:none;font-size:.875rem;color:#fff;font-weight:700;background-color:#30b7bd;margin:auto;width:50%;height:auto;display:block;padding:.875rem 1rem;border-radius:1.5rem;box-shadow:3px 3px 8px #b1b1b1,-3px -3px 8px #fff;cursor:pointer}.slides[_ngcontent-%COMP%]{height:40%}.slide-1[_ngcontent-%COMP%]{height:100%;width:100%;background-color:#bcd8c1}.slide-2[_ngcontent-%COMP%]{height:100%;width:100%}.slide-3[_ngcontent-%COMP%]{height:100%;width:100%;background-color:#87cefa}.slide-full[_ngcontent-%COMP%]{margin-top:20%;height:45%!important}.slides-ios[_ngcontent-%COMP%]{--bullet-background: #BCD8C1 !important;--bullet-background-active: #BCD8C1 !important;--progress-bar-background: #BCD8C1 !important;--progress-bar-background-active: #BCD8C1 !important;--scroll-bar-background: #BCD8C1 !important;--scroll-bar-background-active: #BCD8C1 !important}ion-card[_ngcontent-%COMP%]{overflow:unset!important}ion-card[_ngcontent-%COMP%]{height:200px;width:300px;background-color:transparent;box-shadow:none;border:none!important}.slide-image[_ngcontent-%COMP%]{width:120px;text-align:center;display:block;margin-left:auto;margin-right:auto;position:relative;top:-45px}ion-card-header[_ngcontent-%COMP%]{position:relative;top:-60px}ion-card-content[_ngcontent-%COMP%]{position:relative;top:-62px}.avatar[_ngcontent-%COMP%]{width:50px;display:block;margin-left:auto;margin-right:auto}\"]\n  });\n  return LoginPage;\n})();","map":null,"metadata":{},"sourceType":"module"}